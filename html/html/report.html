<html>
    <head>
        <script src="../htmldependencies/brython.js"></script>
        <script src="../htmldependencies/brython_stdlib.js"></script>
        <link rel="stylesheet" href="../htmldependencies/style.css">
        <meta http-equiv="refresh" content="120">
        <title>MNSF Dashboard</title>
    </head>
    <body onload="brython()">
        <div>
            <h3 id="headerState"></h3>
            <h3 id="updateTime">Update Time: </h3>
        </div>
        <div class="first_row">
            <div class="navigation">
                <a href="index.html"><button>Overview</button></a>
                <a href="assets.html"><button>Assets</button></a>
                <a href="positions.html"><button>Positions</button></a>
                <a href="breakdown.html"><button>Breakdown</button></a>
                <a href="leverage.html"><button>Leverage</button></a>
                <a href="funding.html"><button>Funding</button></a>
                <a href="currentFunding.html"><button>Current Funding</button></a>
                <a href="report.html"><button>Report</button></a>
                <a href="test_page.php"><button>Rewards Cumulative</button></a>
                <a href="spread.html"><button>Spread</button></a>
                <a href="loans.php"><button>Loans</button></a>
                <a href="nav.html"><button>GAV</button></a>
                <a href="daily_cum.php"><button>24 Hour Report</button></a>
		<a href="monthly_reward.php"><button>Monthly Report</button></a>
		<a href="daily_calculation.php"><button>Daily Calculation</button></a>
                <a href="http://52.56.101.27/hist.html"><button>Historic Funding</button></a>
            </div>
        </div>
    <div class="fillBack">
    <h2>Rewards</h2>
    <div id="zero" class="second_row"></div>
    </div>
    <div class="fillBack">
    <h2>Funding Fees Agg</h2>
    <div id="slinkyDog" class="second_row"></div>
    </div>
    <h2>Funding Fees</h2>
    <div id="one" class="second_row"></div>
    </div>
    <h2>Funding Time Group</h2>
    <div id="ten" class="second_row"></div>
    </div>
    <script type="text/python">
    from browser import document, html
    from browser.html import TABLE, TR, TH, TD
    import tmp

    document["updateTime"]<= tmp.time

    def getHeaders(dic):
            headers = []
            for i in dic[0]:
                    headers.append(i)
            return headers

    def getValues(dic):
            all_values = []
            for i in dic:
                values = []
                for j in i:
                    values.append(i[j])
                all_values.append(values)
            return all_values

    tot_headers = getHeaders(tmp.report)
    tot_values = getValues(tmp.report)

    heads = getHeaders(tmp.rewards)
    values = getValues(tmp.rewards)

    tot_headers3 = getHeaders(tmp.agg_funding_fee)
    tot_values3 = getValues(tmp.agg_funding_fee)

    time_headers = getHeaders(tmp.time_agg_funding)
    time_values = getValues(tmp.time_agg_funding)

    tot_table2 = TABLE()
    row = TR()
    for line in heads:
        row <= TH(line)
        tot_table2 <= row
    for line in values:
        row = TR()
        for value in line:
            row <= TD(value)
            tot_table2 <= row

    tot_table = TABLE()
    row = TR()
    for line in tot_headers:
        row <= TH(line)
        tot_table <= row
    for line in tot_values:
        row = TR()
        for value in line:
            row <= TD(value)
            tot_table <= row

    tot_table3 = TABLE()
    row = TR()
    for line in tot_headers3:
        row <= TH(line)
        tot_table3 <= row
    for line in tot_values3:
        row = TR()
        for value in line:
            row <= TD(value)
            tot_table3 <= row

    time_table = TABLE()
    row = TR()
    for line in time_headers:
        row <= TH(line)
        time_table <= row
    for line in time_values:
        row = TR()
        for value in line:
            row <= TD(value)
            time_table <= row


    document["slinkyDog"]<= tot_table3
    document["zero"]<= tot_table2
    document["one"]<= tot_table
    document["ten"]<= time_table
    </script>
    </body>
</html>

